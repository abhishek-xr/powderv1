{"ast":null,"code":"import{useState}from\"react\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const FileUpload=_ref=>{let{onUploadSuccess}=_ref;const[selectedFile,setSelectedFile]=useState(null);const[uploading,setUploading]=useState(false);const handleFileChange=event=>{setSelectedFile(event.target.files[0]);};const handleUpload=async()=>{if(!selectedFile)return;setUploading(true);try{const formData=new FormData();formData.append(\"file\",selectedFile);const response=await fetch(\"http://127.0.0.1:8000/api/upload\",{method:\"POST\",body:formData});if(!response.ok){throw new Error(\"Failed to upload file\");}const data=await response.json();onUploadSuccess(data);}catch(error){console.error(\"Upload failed:\",error);}finally{setUploading(false);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"p-6 border rounded-lg shadow-md bg-white\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold mb-4\",children:\"Upload a PDF File\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",onChange:handleFileChange,className:\"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleUpload,disabled:uploading||!selectedFile,className:\"mt-4 bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 disabled:bg-gray-300\",children:uploading?\"Uploading...\":\"Upload File\"})]});};export default FileUpload;","map":{"version":3,"names":["useState","jsx","_jsx","jsxs","_jsxs","FileUpload","_ref","onUploadSuccess","selectedFile","setSelectedFile","uploading","setUploading","handleFileChange","event","target","files","handleUpload","formData","FormData","append","response","fetch","method","body","ok","Error","data","json","error","console","className","children","type","onChange","onClick","disabled"],"sources":["/Users/elliot/Desktop/amazon assessment/powder/portfolio-api/venv/frontend/src/components/FileUpload.js"],"sourcesContent":["import { useState } from \"react\";\n\nconst FileUpload = ({ onUploadSuccess }) => {\n  const [selectedFile, setSelectedFile] = useState(null);\n  const [uploading, setUploading] = useState(false);\n\n  const handleFileChange = (event) => {\n    setSelectedFile(event.target.files[0]);\n  };\n\n  const handleUpload = async () => {\n    if (!selectedFile) return;\n    setUploading(true);\n\n    try {\n      const formData = new FormData();\n      formData.append(\"file\", selectedFile);\n\n      const response = await fetch(\"http://127.0.0.1:8000/api/upload\", {\n        method: \"POST\",\n        body: formData,\n      });\n\n      if (!response.ok) {\n        throw new Error(\"Failed to upload file\");\n      }\n\n      const data = await response.json();\n      onUploadSuccess(data); \n    } catch (error) {\n      console.error(\"Upload failed:\", error);\n    } finally {\n      setUploading(false);\n    }\n  };\n\n  return (\n    <div className=\"p-6 border rounded-lg shadow-md bg-white\">\n      <h2 className=\"text-xl font-bold mb-4\">Upload a PDF File</h2>\n      <input\n        type=\"file\"\n        onChange={handleFileChange}\n        className=\"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100\"\n      />\n      <button\n        onClick={handleUpload}\n        disabled={uploading || !selectedFile}\n        className=\"mt-4 bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 disabled:bg-gray-300\"\n      >\n        {uploading ? \"Uploading...\" : \"Upload File\"}\n      </button>\n    </div>\n  );\n};\n\nexport default FileUpload;\n"],"mappings":"AAAA,OAASA,QAAQ,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEjC,KAAM,CAAAC,UAAU,CAAGC,IAAA,EAAyB,IAAxB,CAAEC,eAAgB,CAAC,CAAAD,IAAA,CACrC,KAAM,CAACE,YAAY,CAAEC,eAAe,CAAC,CAAGT,QAAQ,CAAC,IAAI,CAAC,CACtD,KAAM,CAACU,SAAS,CAAEC,YAAY,CAAC,CAAGX,QAAQ,CAAC,KAAK,CAAC,CAEjD,KAAM,CAAAY,gBAAgB,CAAIC,KAAK,EAAK,CAClCJ,eAAe,CAACI,KAAK,CAACC,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC,CAAC,CACxC,CAAC,CAED,KAAM,CAAAC,YAAY,CAAG,KAAAA,CAAA,GAAY,CAC/B,GAAI,CAACR,YAAY,CAAE,OACnBG,YAAY,CAAC,IAAI,CAAC,CAElB,GAAI,CACF,KAAM,CAAAM,QAAQ,CAAG,GAAI,CAAAC,QAAQ,CAAC,CAAC,CAC/BD,QAAQ,CAACE,MAAM,CAAC,MAAM,CAAEX,YAAY,CAAC,CAErC,KAAM,CAAAY,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC,kCAAkC,CAAE,CAC/DC,MAAM,CAAE,MAAM,CACdC,IAAI,CAAEN,QACR,CAAC,CAAC,CAEF,GAAI,CAACG,QAAQ,CAACI,EAAE,CAAE,CAChB,KAAM,IAAI,CAAAC,KAAK,CAAC,uBAAuB,CAAC,CAC1C,CAEA,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAN,QAAQ,CAACO,IAAI,CAAC,CAAC,CAClCpB,eAAe,CAACmB,IAAI,CAAC,CACvB,CAAE,MAAOE,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,gBAAgB,CAAEA,KAAK,CAAC,CACxC,CAAC,OAAS,CACRjB,YAAY,CAAC,KAAK,CAAC,CACrB,CACF,CAAC,CAED,mBACEP,KAAA,QAAK0B,SAAS,CAAC,0CAA0C,CAAAC,QAAA,eACvD7B,IAAA,OAAI4B,SAAS,CAAC,wBAAwB,CAAAC,QAAA,CAAC,mBAAiB,CAAI,CAAC,cAC7D7B,IAAA,UACE8B,IAAI,CAAC,MAAM,CACXC,QAAQ,CAAErB,gBAAiB,CAC3BkB,SAAS,CAAC,uLAAuL,CAClM,CAAC,cACF5B,IAAA,WACEgC,OAAO,CAAElB,YAAa,CACtBmB,QAAQ,CAAEzB,SAAS,EAAI,CAACF,YAAa,CACrCsB,SAAS,CAAC,sFAAsF,CAAAC,QAAA,CAE/FrB,SAAS,CAAG,cAAc,CAAG,aAAa,CACrC,CAAC,EACN,CAAC,CAEV,CAAC,CAED,cAAe,CAAAL,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}